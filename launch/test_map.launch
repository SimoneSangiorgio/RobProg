<!-- Salva come: launch/navigation_final.launch -->
<launch>

    <!-- ======================= PARAMETRI E NODI DI BASE ======================= -->

    <!-- 1. Carica i parametri del simulatore (robot, sensori, etc.) -->
    <rosparam command="load" file="$(find multi_robot_simulator)/config/sim_config.yaml" />

    <!-- 2. Lancia il map_server. Ãˆ fondamentale che parta per primo. -->
    <node name="map_server" pkg="map_server" type="map_server" args="$(find multi_robot_simulator)/maps/my_map.yaml"/>

    <!-- 3. Lancia il tuo simulatore C++. Funge da "hardware" del robot. -->
    <node pkg="multi_robot_simulator" type="simulator_node" name="multi_robot_simulator_node" output="screen" />

    <!-- ======================= VISUALIZZAZIONE ======================= -->

    <!-- 7. Lancia RViz con una configurazione pre-salvata per la navigazione -->
    <node name="rviz" pkg="rviz" type="rviz" args="-d $(find multi_robot_simulator)/config/MRS.rviz" required="true" />

</launch>